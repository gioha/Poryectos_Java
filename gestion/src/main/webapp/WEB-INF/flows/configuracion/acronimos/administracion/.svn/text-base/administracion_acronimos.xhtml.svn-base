<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:sf="http://www.springframework.org/tags/faces"
	xmlns:sec="http://www.springframework.org/security/tags"
	template="/templates/template.xhtml">

	<ui:define name="CONTENT">
	
		<!-- Estilos propios para la pantalla -->
		<h:outputStylesheet library="css"
			name="modulos/acronimos/acronimos.css" />

		<h:outputScript name="js/acronimos/acronimos.js" />
		
		<h:form id="formAcronimos" onkeypress="if(window.event.which == 13) {return false;}" enctype="multipart/form-data">

			<!-- GROWL PARA MOSTRAR LOS MENSAJES GENERALES -->
			<p:growl id="mensaje_general_info" showDetail="true" sticky="true"
					 globalOnly="true" severity="info" />
			<p:growl id="mensaje_general_advertencia" widgetVar="msgWarning"
					 showDetail="true" sticky="true" globalOnly="true" severity="warn" />
			<p:growl id="mensaje_general_exito" widgetVar="msgExito"
					 showDetail="true" sticky="true" globalOnly="true" severity="fatal" />

			<!-- DIALOG PARA MOSTRAR LA CARGA -->
			<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
				closable="false" resizable="false" showHeader="false">
				<p:graphicImage name="/img/estructura/loader.gif" />
			</p:dialog>
	
			<p:ajaxStatus onstart="PF('statusDialog').show()"
				onsuccess="PF('statusDialog').hide()" />

			<div class="container">
				
				<h2 style="padding-bottom: 30px;">
					<h:outputText value="Inicio" style="color: #999999"/>&nbsp;&nbsp;
					<i class="fa fa-angle-right" aria-hidden="true" style="font-size: 18px; color: #999999"/>&nbsp;&nbsp;
					<h:outputText value="#{messageSource['etiqueta_configuracion_migasMenu']}" style="color: #999999"/>&nbsp;&nbsp;
					<i class="fa fa-angle-right" aria-hidden="true" style="font-size: 18px; color: #999999"/>&nbsp;&nbsp;
					<h:outputText value="Acrónimos" style="font-weight: bold"/>
				</h2>
	
				<div class="row rowTituloPestanias">
					<div class="col-xs-3 columnTituloPestanias " style="width: 19%; border:.5px solid white">
						<h3 class="h3TituloPestania">
							<h:outputText value="Configuración" styleClass="tituloConfigHidden" />
						</h3>
					</div>
					<div class="col-xs-9 columnPestanias" style="width: 81%">
						<div class="row"
							style="height: 51px !important; width: 95.8%; border-bottom: 3px solid #a0005f;">
	
							<div class="col-md-2 columnDerechaUltimaPestania" style="width: 141px;">
								<span class="pestaniaInactiva">
									<p:link value="Corresponsable" href="/app/configuracion/corresponsal/captura"
											style="color: white; font-weight: bold; text-decoration: none;" />
								</span>
							</div>
	
							<div class="col-md-2 columnIzquierdaPestania" style="width: 93px; padding-right: 1px !important">
								<span class="pestaniaInactiva">
									<p:link value="Plantillas" href="/app/configuracion/plantillas/administracion"
											style="color: white; font-weight: bold; text-decoration: none;"/>
								</span>
							</div>
	
							<div class="col-md-2 columnIzquierdaPestania" style="width: 132px;">
								<span class="pestaniaInactiva">
									<p:link value="#{messageSource['etiqueta_instrucciones_tituloModulo']}"
											href="/app/configuracion/instrucciones/administracion"
											style="color: white; font-weight: bold; text-decoration: none;" />
								</span>
							</div>
	
							<div class="col-md-2 columnIzquierdaPestania" style="width: 106px; padding-top: 20px">
								<span class="pestaniaActiva">
									<p:link value="Acrónimos" href="/app/configuracion/acronimos/administracion" 
											style="color: white; font-weight: bold; text-decoration: none;"/>
								</span>
							</div>
							
							<c:if test="#{sec:areAnyGranted('ROLE_GESTION4.OFICIALIA.OC, ROLE_GESTION4.ADMIN.OC, ROLE_GESTION4.CONSULTA_CAU.OC')}">
								<div class="col-md-2 columnIzquierdaPestania" style="width: 175px; padding-top: 20px;">
									<span class="pestaniaInactiva">
										<p:link value="Remitentes externos"
												href="/app/configuracion_oficialia/remitentes_ext/administracion"
												style="color: white; font-weight: bold; text-decoration: none;" />
									</span>
								</div>
							</c:if>
	
						</div>
	
						<div class="row" style="height: 36px; !important;" />
					</div>
				</div>
				
				<h4>
					<h:outputText value="Datos del documento" />
				</h4>
				<h5>
					Los datos con (<span style="color:red">*</span>) son requeridos
				</h5>
				
				<section>
				
					<p:outputPanel id="datos-generales">
					
						<div class="row">
							<div class="col-md-5">
	
								<div class="row">
									<h:outputLabel style="color:red">*</h:outputLabel>
									<h:outputLabel for="tipo_area" value="#{messageSource['etiqueta_tipo_area']}" />
								</div>
	
								<div class="row">
									<p:selectOneMenu id="tipo_area"
													 value="#{mbAcronimos.filtros.tipoAreaSeleccionada}"
													 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
													 rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" style="width: 100%">

										<p:ajax event="change" update="datos-generales" listener='#{mbAcronimos.mostrarAreas()}' />

										<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
										<f:selectItems value="#{mbAcronimos.filtros.listaTiposAreas}"
													   var="tipo" itemValue="#{tipo.idTipoArea}"
																  itemLabel="#{tipo.descripcion}" />
									</p:selectOneMenu>
									<h:outputText rendered="#{sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" value = "#{mbAcronimos.obtenerTipoArea(mbAcronimos.filtros.tipoAreaSeleccionada)}" />	
									
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_tipo_area" for="tipo_area" display="text" />
								</div>
	
							</div>
						</div>
	
						<c:if test="${mbAcronimos.filtros.tipoAreaSeleccionada == 2}">
							
							<div class="row" style="padding-top: 15px;">
								<div class="col-md-3">
	
									<div class="row">
										<p:outputLabel style="color:red">*</p:outputLabel>
										<h:outputLabel for="entidad" value="#{messageSource['etiqueta_entidad']}" />
									</div>
	
									<div class="row">
	
										<p:selectOneMenu id="entidad"
														 value="#{mbAcronimos.filtros.idEntidadSeleccionada}"
														 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
														 rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" style="width: 100%">

											<p:ajax event="change" update="datos-generales"
												listener='#{mbAcronimos.mostrarAreasEntidad()}' />
	
											<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
											<f:selectItems value="#{mbAcronimos.filtros.listaEstados}"
														   var="entidad" itemValue="#{entidad.idEstado}"
														   itemLabel="#{entidad.nombreEstado}" />
										</p:selectOneMenu>
										<h:outputText value = "#{mbAcronimos.obtenerNombreEntidad()}" rendered="#{sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC') and mbAcronimos.filtros.tipoAreaSeleccionada eq 2}"/>	
										
									</div>
	
									<div class="row mensajesPorCampo">
										<p:message id="mensaje_entidad" for="entidad" display="text" />
									</div>
	
								</div>
							</div>
						</c:if>
	
						<div class="row" style="padding-top: 15px;">
							
							<p:outputPanel id="divArea" styleClass="col-md-5">
	
								<div class="row">
									<p:outputLabel style="color:red">*</p:outputLabel>
									<h:outputLabel for="area" value="#{messageSource['etiqueta_area']}" />
								</div>

								<div class="row">
	
									<p:selectOneMenu id="area"
													 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
													 style="width:100%"
													 value="#{mbAcronimos.filtros.idAreaSeleccionada}"
													 rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" >
										
										<p:ajax event="change" process = "area" update = "divArea" />
										
										<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
										<f:selectItems value="#{mbAcronimos.filtros.listaAreas}" var="area"
													   itemValue="#{area.idArea}" itemLabel="#{area.descripcion}" />
									</p:selectOneMenu>
									<h:outputText value = "#{mbAcronimos.obtenerNombreArea()}" rendered="#{sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}"/>
	
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_area" for="area" display="text" />
								</div>
	
							</p:outputPanel>
						</div>

					</p:outputPanel>
					<p:outputPanel id="guardar-datos">
					
						<div class="row" style="padding-top: 15px;">
							<p:outputPanel id="divTipoDocumento" styleClass="col-md-3">
	
								<div class="row">
									<p:outputLabel style="color:red">*</p:outputLabel>
									<h:outputLabel for="tipoDocumento" value = "#{messageSource['etiqueta_tipo_documento']}" />
								</div>
	
								<div class="row">
	
									<p:selectOneMenu id="tipoDocumento"
													style="width:100%"
													required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
													value="#{mbAcronimos.acronimoCreacionHelper.idTipoDocumentoSeleccionado}">
										
										<p:ajax event="change"
											process = "tipoDocumento"
											update = "divTipoDocumento" />
	
										<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
										<f:selectItems value="#{mbAcronimos.filtros.listaTiposDocumentos}" var="tipo"
											itemValue="#{tipo.idTipoDocumento}" itemLabel="#{tipo.descripcion}" />
									</p:selectOneMenu>
	
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_tipoDocumento" for="tipoDocumento" display="text" />
								</div>
							</p:outputPanel>
							
						</div>
						<div class="row" style="padding-top: 15px;">
							<p:outputPanel id="divAcronimo" styleClass="col-md-3">
	
								<div class="row">
									<p:outputLabel style="color:red">*</p:outputLabel>
									<h:outputLabel for="acronimo" value="#{messageSource['etiqueta_acronimos_acronimo']}" />
								</div>
	
								<div class="row">
									
									<p:inputText id="acronimo" style="width:100%"
												 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
												 maxlength="40"
												 validatorMessage="#{messageSource['mensaje_regex_acronimo']}"
												 value="#{mbAcronimos.acronimoCreacionHelper.acronimo}">
	
										<f:validateRegex pattern = "#{messageSource['regex_acronimo']}" />
										<p:ajax event="blur" 
											process = "datos-generales,guardar-datos,guardar-estructura"
											update = "guardar-estructura,divAcronimo"
											listener="#{mbAcronimos.generarVistaPrevia}" />
									</p:inputText>
	
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_acronimo" for="acronimo" display="text" />
								</div>
	
							</p:outputPanel>
							
							<div class="col-md-1" />
							
							<p:outputPanel id="divAnio" styleClass="col-md-3">
	
								<div class="row">
									<p:outputLabel style="color:red">*</p:outputLabel>
									<h:outputLabel for="anio" value = "#{messageSource['etiqueta_acronimos_posicion_anio']}" style="font-size: 14px"/>
								</div>
	
								<div class="row">
		
									<p:selectOneMenu id="anio" style="width:100%"
													 value="#{mbAcronimos.acronimoCreacionHelper.formatoAnioSeleccionado}" 
													 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}">
	
										<p:ajax event="change"
											process = "datos-generales,guardar-datos,guardar-estructura"
											update = "guardar-estructura,divAnio"
											listener="#{mbAcronimos.generarVistaPrevia}" />
	
										<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
										<f:selectItems value="#{mbAcronimos.filtros.formatosAnio.entrySet()}" var="num" itemValue="#{num.key}" itemLabel="#{num.value}"/>

									</p:selectOneMenu>
	
	
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_anio" for="anio" display="text" />
								</div>
	
							</p:outputPanel>
							
							<div class="col-md-1" />
							
							<p:outputPanel id="divNumero" styleClass="col-md-4">
	
								<div class="row">
									<h:outputLabel style="color:red">*</h:outputLabel>
									<h:outputLabel for="numero" value="#{messageSource['etiqueta_acronimos_posicion_numero']}" style="font-size: 14px"/>
								</div>
	
								<div class="row">
									
									<p:selectOneRadio id="numero" value="#{mbAcronimos.acronimoCreacionHelper.formatoNumeroSeleccionado}" 
													  required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}" disabled="#{mbInstrucciones.bloqueaTiempo}">
										<f:selectItem itemLabel="Sí" itemValue="0" />
										<f:selectItem itemLabel="No" itemValue="*" />
										
										<p:ajax event="change"
												process = "datos-generales,guardar-datos,guardar-estructura"
												update = "guardar-estructura,divNumero"
												listener="#{mbAcronimos.generarVistaPrevia}" />
										
									</p:selectOneRadio>
									
								</div>
	
								<div class="row mensajesPorCampo">
									<p:message id="mensaje_numero" for="numero" display="text" />
								</div>
	
							</p:outputPanel>
	
						</div>
				
					</p:outputPanel>
				
				</section>
					
				<!-- COSAS DEL DRAG AND DROP -->				
				<h4>
					<h:outputText value="#{messageSource['etiqueta_numero_documento']}" />
				</h4>
				<h5>
					<b style="color: black;">#{messageSource['etiqueta_acronimos_instrucciones']}</b> #{messageSource['etiqueta_acronimos_seleccionar_orden']} 
					<b style="color:#780047">#{messageSource['etiqueta_acronimos_ejemplo']}</b>
				</h5>
				<p:outputPanel id="guardar-estructura">
					<p:remoteCommand name="generarAcronimo" actionListener="#{mbAcronimos.generarAcronimo}" process = "datos-generales,guardar-datos,guardar-estructura" update="datos-generales,guardar-datos,guardar-estructura" />
					<script>
						 $( function() {
							 iniciarDragAndDrop();
						 });
					</script>
					<section>
						<p:outputPanel styleClass="caja-drag-grande">
							<div class="row">
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][0] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][0])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][0]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "0-0" type="hidden"/>
									</p:outputPanel>
								</div>
								<div class="col-xs-1">
									<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-1">
										<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-1" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][1] != null}">
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][1] eq 's1'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa1}">
												<pe:keyFilter regEx="/[/\-]/" />
											</p:inputText>
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][1] eq 's2'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa2}">
												<pe:keyFilter regEx="/[/\-]/" />
											</p:inputText>
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][1]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "0-1" type="hidden"/>
									</p:outputPanel>
								</div>
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][2] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][2])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][2]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "0-2" type="hidden"/>
									</p:outputPanel>
								</div>
								<div class="col-xs-1">
									<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-1">
										<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-1" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][3] != null}">
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][3] eq 's1'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa1}">
												<pe:keyFilter regEx="/[/\-]/" />
											</p:inputText>
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][3] eq 's2'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa2}">
												<pe:keyFilter regEx="/[/\-]/" />
											</p:inputText>
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][3]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "0-3" type="hidden"/>										
									</p:outputPanel>
								</div>
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][4] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][4])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[0][4]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "0-4" type="hidden"/>
									</p:outputPanel>
									
								</div>
							</div>
						</p:outputPanel>
						<p:outputPanel styleClass="caja-drop-grande">
							<div class="row">
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][0] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][0])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][0]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "1-0" type="hidden"/>
									</p:outputPanel>
									
								</div>
								<div class="col-xs-1">
									<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-2">
										<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-2" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][1] != null}">
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][1] eq 's1'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa1}">
												<pe:keyFilter regEx="/[/\-]/" />
												<p:ajax event="blur" 
													process = "datos-generales,guardar-datos,guardar-estructura"
													update = "datos-generales,guardar-datos,guardar-estructura"
													listener="#{mbAcronimos.generarVistaPrevia}" />
											</p:inputText>
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][1] eq 's2'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa2}">
												<pe:keyFilter regEx="/[/\-]/" />
												<p:ajax event="blur"
													process = "datos-generales,guardar-datos,guardar-estructura"
													update = "datos-generales,guardar-datos,guardar-estructura"
													listener="#{mbAcronimos.generarVistaPrevia}" />
											</p:inputText>
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][1]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "1-1" type="hidden"/>
									</p:outputPanel>
									
								</div>
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][2] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][2])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][2]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "1-2" type="hidden"/>
									</p:outputPanel>
								</div>
								<div class="col-xs-1">
									<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-2">
										<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-2" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][3] != null}">
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][3] eq 's1'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa1}">
												<pe:keyFilter regEx="/[/\-]/" />
												<p:ajax event="blur"
													process = "datos-generales,guardar-datos,guardar-estructura"
													update = "datos-generales,guardar-datos,guardar-estructura"
													listener="#{mbAcronimos.generarVistaPrevia}" />
											</p:inputText>
											<p:inputText 
												rendered = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][3] eq 's2'}"
												maxlength="1"
												value="#{mbAcronimos.acronimoCreacionHelper.sepa2}">
												<pe:keyFilter regEx="/[/\-]/" />
												<p:ajax event="blur"
													process = "datos-generales,guardar-datos,guardar-estructura"
													update = "datos-generales,guardar-datos,guardar-estructura"
													listener="#{mbAcronimos.generarVistaPrevia}" />
											</p:inputText>
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][3]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "1-3" type="hidden"/>
									</p:outputPanel>
								</div>
								<div class="col-xs-3">
									<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2">
										<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][4] != null}">
											<h:outputText value="#{mbAcronimos.acronimoCreacionHelper.relacionAcronimos.get(mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][4])}" />
											<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoCreacionHelper.estructuraAcronimos[1][4]}" type="hidden"/>
										</p:outputPanel>
										<p:inputText styleClass="coor" value = "1-4" type="hidden"/>
									</p:outputPanel>
								</div>
							</div>
						</p:outputPanel>
						
						<div class="row" style="margin-top: 30px; ">
							<div class="col-md-3" style="font-family: Roboto; width: 209px; ">
								Tu <b>acrónimo</b> quedaría así:
							</div>
							
							<div class="col-md-3 col-xs-5" style="padding-left: 0px; border-bottom:3px solid #d5007f; text-align: center">
								<h:outputText  value="#{mbAcronimos.acronimoCreacionHelper.vistaPreviaAcronimo}" style="font-weight: bold"/>
								
							</div>
						</div>
						<div class="row botonesAcomodo">
							<p:outputPanel id="boton-aceptar">
								<p:commandButton value="#{messageSource['etiqueta_boton_agregar']}"
												 rendered="#{mbValidacion.comboValidacion ne '0'}"
												 disabled="#{sec:areAnyGranted('ROLE_GESTION4.CONSULTA_CAU.OC')}"
												 title="#{messageSource['etiqueta_boton_agregar']}" 
						            id="guardar_acronimo" 
						            	process = "datos-generales,guardar-datos,guardar-estructura"
									    update="@form" 
								   	actionListener="#{mbAcronimos.guardarAcronimo}">
								 </p:commandButton>
							 </p:outputPanel>
						</div>
					</section>
				</p:outputPanel>

				<h4>
					<h:outputText value="#{messageSource['etiqueta_acronimos_lista_acronimos']}" />
				</h4>
				<h5>
					Los recuadros blancos sirven para filtrar la información de los acrónimos que requieres consultar
				</h5>
				<p:outputPanel>
					<section>
<!-- 
					<div class="row">
						<div class="col-md-12">
							<p:dataTable widgetVar = "tabla-acronimos"  id="tabla-acronimos" var="acronimo" 
										 paginator="true" rows="10" paginatorPosition="bottom" lazy="true"
										 value="#{mbAcronimos.listaAcronimos}"
										 selection="#{mbAcronimos.acronimoSeleccionado}"
										 rowKey="#{acronimo.idArea}-#{acronimo.tipoArea}"
										 emptyMessage=" " scrollable="true" style="font-size: 13px;" styleClass="tablaAcronimos">
								
								<p:column rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" style="width: 200px;"
										  filterBy="#{acronimo.tipoArea}"
										  headerText = "Tipo de Área">

									<f:facet name="filter">
						               
						                <p:selectOneMenu onchange="PF('tabla-acronimos').filter()" style="width:146px;">
                  								
                  								<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
												<f:selectItems value="#{mbAcronimos.listaTipoAreaConDocs}" 
																var="tipo" itemValue="#{tipo.idTipoArea}"
																itemLabel="#{tipo.descripcion}" />

						                </p:selectOneMenu>
						     
						            </f:facet>
									<h:outputText value="#{mbAcronimos.obtenerTipoArea(acronimo.tipoArea)}" />
								</p:column>

								<p:column rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}"
										  headerText = "#{messageSource['etiqueta_area']}"
										  filterBy="#{acronimo.area.descripcion}">
									<h:outputText value="#{acronimo.area.descripcion}" style="font-size: 12px;"/>
								</p:column>

								<p:column filterBy="#{acronimo.descripcion}"
										  headerText="#{messageSource['etiqueta_acronimos_acronimo']}">
									<h:outputText value="#{acronimo.descripcion}" style="font-size: 12px;"/>
								</p:column>
								
								<p:column filterBy="#{acronimo.idTipoDocumento}" 
										  headerText = "Tipo de Documento">
									<f:facet name="filter">
						                <p:selectOneMenu onchange="PF('tabla-acronimos').filter()" style="width:146px;">
                  								<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
												<f:selectItems value="#{mbAcronimos.listaTipoDocConDocs}" var="tipo"
																itemValue="#{tipo.idTipoDocumento}" itemLabel="#{tipo.descripcion}" />
						                </p:selectOneMenu>
						                
						            </f:facet>
									<h:outputText value="#{acronimo.dtoTipoDocumento.descripcion}" />
								</p:column>

								<p:column style="text-align: center; width: 72px;" headerText = "#{messageSource['etiqueta_eliminar']}">
									<p:commandLink styleClass="fa fa-close #{acronimo.documentosUtilizados > 0 ?'':'link-accion'}" style="color: #d5007f; font-size: 16px; text-decoration: none;"
												   title = "#{messageSource['etiqueta_eliminar']}"
												   id="link_eliminar"
												   process="tabla-acronimos"
												   update="@form"
												   actionListener="#{mbAcronimos.eliminarAcronimo(acronimo)}">

										<p:confirm message = "#{messageSource['mensaje_confirmacion_eliminar_acronimo']}" />

									</p:commandLink>
								</p:column>

								<p:column style="text-align: center; width: 67px;" headerText = "#{messageSource['etiqueta_editar']}">
									<p:commandLink disabled="#{acronimo.documentosUtilizados > 0}" 
												   styleClass="fa fa-pencil #{acronimo.documentosUtilizados > 0 ?'':'link-accion'}" style="color: #d5007f; font-size: 16px;"
												   title="#{messageSource['etiqueta_editar']}"
												   id="link_editar" process="tabla-acronimos"
												   update = "@form"
												   actionListener="#{mbAcronimos.abrirEditarAcronimo(acronimo,false)}">
									</p:commandLink>
								</p:column>

								<p:column style="text-align: center; width: 80px;" headerText = "#{messageSource['etiqueta_visualizar']}">
									<p:commandLink styleClass="link-accion fa fa-search-plus" title = "#{messageSource['etiqueta_visualizar']}" style="color: #d5007f; font-size: 16px;"
												   id="link_visualizar" process="tabla-acronimos"
												   update = "@form"
												   actionListener="#{mbAcronimos.abrirEditarAcronimo(acronimo,true)}">
									</p:commandLink>
								</p:column>
							</p:dataTable>
						</div>
					</div>
 -->

					<!-- COMIENZA LISTA DE ACRÓNIMOS (REDEFINICIÓN DE SECCIÓN) -->
					<div class="row">
						<div class="col-md-3" />
						<div class="col-md-6">
							<h:outputLabel for="area" value="Área" />
						</div>
						<div class="col-md-3" />
					</div>

					<div class="row">
						<div class="col-md-3" />

						<div class="col-md-6">
							<p:selectOneMenu id="idSelectAreaAcrons"
											 value="#{mbAcronimos.filtros.idAreaAcronimos}"
											 rendered="#{!sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" style="width: 100%;">
								<p:ajax event="change" update="idTablaAcronimos"
										listener="#{mbAcronimos.recuperarAcronimosPorArea(mbAcronimos.filtros.idAreaAcronimos)}" />
								<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
								<f:selectItems value="#{mbAcronimos.filtros.listaAreasAcronimos}"
											   var="area" itemValue="#{area.idArea}"
											   itemLabel="#{area.descripcion}" />
							</p:selectOneMenu>
							<h:outputText rendered="#{sec:areAnyGranted('ROLE_GESTION4.ADMIN_AREA.OC')}" value="#{mbAcronimos.obtenerNombreArea()}" />
						</div>

						<div class="col-md-3" />
					</div>

					<p:spacer height="25"/>

					<div class="row">
						<div class="col-md-12">
							<p:dataTable id="idTablaAcronimos" widgetVar="tablaAcronimos"
										 value="#{mbAcronimos.filtros.listaAcronimosArea}" var="acronimo"
										 filteredValue="#{mbAcronimos.filtros.listaAcronimosFiltrados}"
										 paginator="true" rows="10"
										 paginatorPosition="bottom"
										 paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
										 emptyMessage="No hay resultados"
										 styleClass="tablaAcronimos" style="font-size: 13px;">

								<p:column headerText="#{messageSource['etiqueta_acronimos_acronimo']}"
										  filterBy="#{acronimo.descripcion}"
										  filterMatchMode="contains">
									<h:outputText value="#{acronimo.descripcion}" />
								</p:column>

								<p:column filterBy="#{acronimo.idTipoDocumento}" headerText="Tipo de Documento">
									<f:facet name="filter">
										<p:selectOneMenu onchange="PF('tablaAcronimos').filter()" style="width:146px;">
											<f:selectItem itemValue="" itemLabel="Todos" />
											<f:selectItems value="#{mbAcronimos.listaTipoDocConDocs}" var="tipo"
														   itemValue="#{tipo.idTipoDocumento}" itemLabel="#{tipo.descripcion}" />
										</p:selectOneMenu>
						            </f:facet>
									<h:outputText value="#{acronimo.dtoTipoDocumento.descripcion}" />
								</p:column>

								<p:column style="text-align: center; width: 72px;" headerText="#{messageSource['etiqueta_eliminar']}">
									<p:commandLink id="link_eliminar" process="idTablaAcronimos"
												   title = "#{messageSource['etiqueta_eliminar']}"
												   styleClass="fa fa-close #{acronimo.documentosUtilizados > 0 ? '' : 'link-accion'}"
												   style="color: #d5007f; font-size: 16px; text-decoration: none;"
												   disabled="#{sec:areAnyGranted('ROLE_GESTION4.CONSULTA_CAU.OC')}"
												   actionListener="#{mbAcronimos.eliminarAcronimo(acronimo)}"
												   update="idTablaAcronimos formAcronimos:mensaje_general_advertencia">
										<p:confirm message = "#{messageSource['mensaje_confirmacion_eliminar_acronimo']}" />
									</p:commandLink>
								</p:column>

								<p:column style="text-align: center; width: 67px;" headerText="#{messageSource['etiqueta_editar']}">
									<p:commandLink id="link_editar" process="idTablaAcronimos"
												   title="#{messageSource['etiqueta_editar']}"
												   styleClass="fa fa-pencil #{acronimo.documentosUtilizados > 0 ? '' : 'link-accion'}"
												   style="color: #d5007f; font-size: 16px; text-decoration: none;"
												   actionListener="#{mbAcronimos.abrirEditarAcronimo(acronimo,false)}"
												   update="@form"
												   disabled="#{acronimo.documentosUtilizados > 0 or sec:areAnyGranted('ROLE_GESTION4.CONSULTA_CAU.OC')}" />
								</p:column>

								<p:column style="text-align: center; width: 80px;" headerText="#{messageSource['etiqueta_visualizar']}">
									<p:commandLink id="link_visualizar" process="idTablaAcronimos"
												   title="#{messageSource['etiqueta_visualizar']}"
												   styleClass="link-accion fa fa-search-plus" style="color: #d5007f; font-size: 16px;"
												   actionListener="#{mbAcronimos.abrirEditarAcronimo(acronimo,true)}" update="@form" />
								</p:column>
							</p:dataTable>
						</div>
					</div>
					</section>
				</p:outputPanel>
				<!-- TERMINA LISTA DE ACRÓNIMOS (REDEFINICIÓN DE SECCIÓN) -->

				<!-- DIALOG PARA LA EDICIÓN DE ACRÓNIMOS -->
				<p:dialog id ="edicion-acronimos"  widgetVar="edicion-acronimos" modal="true" styleClass="ventanaEdicionAcr">
					
					<p:outputPanel id="edicion-datos">

						<h4 style="padding-bottom: 20px;">
							<h:outputText value="Editar acrónimo" />
						</h4>
						<section>
						
							<div class="row">
								<p:outputPanel id="divAcronimoEditar" styleClass="col-md-4">
		
									<div class="row">
										<h:outputLabel style="color:red">*</h:outputLabel>
										<h:outputLabel for="acronimoEditar" value="#{messageSource['etiqueta_acronimos_acronimo']}" />
									</div>
	
									<div class="row">
										
										<p:inputText id="acronimoEditar" 
													 rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}"
													 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
													 value="#{mbAcronimos.acronimoModificacionHelper.acronimo}">
	
											<p:ajax event="blur" process="divAcronimoEditar,edicion-estructura" update="divAcronimoEditar,edicion-estructura"
													listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
													
											<p:ajax event="blur" process ="acronimoEditar" update = "edicion-estructura,divAcronimoEditar"
													listener="#{mbAcronimos.generarVistaPrevia}" />

										</p:inputText>
										<h:outputText rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura != null and mbAcronimos.acronimoModificacionHelper.soloLectura == true}"
										 			  value="#{mbAcronimos.acronimoModificacionHelper.acronimo}"/>
									</div>
		
									<div class="row mensajesPorCampo">
										<p:message id="mensaje_acronimoEditar" for="acronimoEditar" display="text" />
									</div>
		
								</p:outputPanel>
								
								<p:outputPanel id="divAnioEditar" styleClass="col-md-4" style="font-size: 13px">
		
									<div class="row" style="display: flex;">
										<h:outputLabel style="color:red">*</h:outputLabel>
										<h:outputLabel for="anioEditar" value = "#{messageSource['etiqueta_acronimos_posicion_anio']}" />
									</div>
		
									<div class="row">
			
										<p:selectOneMenu id="anioEditar" style="width: 100px"
														 rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}"
														 required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}"
														 value="#{mbAcronimos.acronimoModificacionHelper.formatoAnioSeleccionado}" >
	
											<p:ajax event="change" process="divAnioEditar,edicion-estructura" update="divAnioEditar,edicion-estructura"
												listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
	
											<f:selectItem itemValue="" itemLabel="#{messageSource['mensaje_general_selecciona']}" />
											<f:selectItems value="#{mbAcronimos.filtros.formatosAnio.entrySet()}" var="ani" itemValue="#{ani.key}" itemLabel="#{ani.value}"/>
											
										</p:selectOneMenu>
										<h:outputText rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura != null and mbAcronimos.acronimoModificacionHelper.soloLectura == true}"
										 			  value="#{mbAcronimos.filtros.formatosAnio.get(mbAcronimos.acronimoModificacionHelper.formatoAnioSeleccionado)}"/>
									</div>
		
									<div class="row mensajesPorCampo">
										<p:message id="mensaje_anioEditar" for="anioEditar" display="text" />
									</div>
		
								</p:outputPanel>
								
								<p:outputPanel id="divNumeroEditar" styleClass="col-md-4">
		
									<div class="row" style="display: flex; padding:0px;">
										<h:outputLabel style="color:red">*</h:outputLabel>
										<h:outputLabel for="numero" value="#{messageSource['etiqueta_acronimos_posicion_numero']}" style="font-size: 13px"/>
									</div>
		
									<div class="row" style="padding:0px;">
		
										<p:selectOneRadio id="numeroEditar" value="#{mbAcronimos.acronimoModificacionHelper.formatoNumeroSeleccionado}" 
														  required="true" requiredMessage="#{messageSource['mensaje_general_campoRequerido']}" 
														  rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or !mbAcronimos.acronimoModificacionHelper.soloLectura}">
											<f:selectItem itemLabel="Sí" itemValue="0" />
											<f:selectItem itemLabel="No" itemValue="*" />
											
											<p:ajax event="change" process="edicion-estructura,divNumeroEditar" update="edicion-estructura,divNumeroEditar"
													listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
											
										</p:selectOneRadio>
										
										<h:outputText rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura != null and mbAcronimos.acronimoModificacionHelper.soloLectura == true}"
										 			  value="#{mbAcronimos.acronimoModificacionHelper.formatoNumeroSeleccionado eq '0' ? 'Sí' : 'No'}"/>
		
									</div>
		
									<div class="row mensajesPorCampo">
										<p:message id="mensaje_numeroEditar" for="numeroEditar" display="text" />
									</div>
		
								</p:outputPanel>
	
							</div>
						
						</section>
					
					</p:outputPanel>
					
					<p:outputPanel rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
						<h5>#{messageSource['etiqueta_acronimos_arrastra']}</h5>
					</p:outputPanel>
					<!-- COSAS DEL DRAG AND DROP -->
					<p:outputPanel id="edicion-estructura" styleClass="modoEdicion">
	
						<p:outputPanel rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
							<p:remoteCommand name="generarAcronimoEdicion" actionListener="#{mbAcronimos.generarAcronimoEdicion}" update="edicion-datos,edicion-estructura" />
							<script>
								$( function() {
									 iniciarDragAndDrop();
								 });
							</script>
						</p:outputPanel>
						<section>
							<p:outputPanel styleClass="caja-drag-grande" style="font-size: 11px;"
										   rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
								<div class="row">
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][0] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][0])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][0]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "0-0" type="hidden"/>
										</p:outputPanel>
									</div>
									<div class="col-xs-1">
										<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-1">
											<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-1" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][1] != null}">											
												<p:inputText
													rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][1] eq 's1'}"
													maxlength="1"
													value="#{mbAcronimos.acronimoModificacionHelper.sepa1}">
													<pe:keyFilter regEx="/[/\-]/" />
												</p:inputText>
												<p:inputText 
													rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][1] eq 's2'}"
													maxlength="1"
													value="#{mbAcronimos.acronimoModificacionHelper.sepa2}">
													<pe:keyFilter regEx="/[/\-]/" />
												</p:inputText>
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][1]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "0-1" type="hidden"/>
										</p:outputPanel>
									</div>
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][2] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][2])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][2]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "0-2" type="hidden"/>
										</p:outputPanel>
									</div>
									<div class="col-xs-1">
										<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-1">
											
											<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-1" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][3] != null}">
												<p:inputText 
													rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][3] eq 's1'}"
													maxlength="1"
													value="#{mbAcronimos.acronimoModificacionHelper.sepa1}">
													<pe:keyFilter regEx="/[/\-]/" />
												</p:inputText>
												<p:inputText 
													rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][3] eq 's2'}"
													maxlength="1"
													value="#{mbAcronimos.acronimoModificacionHelper.sepa2}">
													<pe:keyFilter regEx="/[/\-]/" />
												</p:inputText>
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][3]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "0-3" type="hidden"/>										
										</p:outputPanel>
									</div>
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-1">
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-1" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][4] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][4])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[0][4]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "0-4" type="hidden"/>
										</p:outputPanel>
										
									</div>
								</div>
							</p:outputPanel>
	
							<p:outputPanel styleClass="caja-drop-grande" style="font-size: 11px;">
								<div class="row">
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2" >
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][0] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][0])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][0]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "1-0" type="hidden"/>
										</p:outputPanel>
										
									</div>
									<div class="col-xs-1">
										<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-2" >
											<p:outputPanel rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
												<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-2" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][1] != null}">
													<p:inputText 
														rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][1] eq 's1'}"
														maxlength="1"
														value="#{mbAcronimos.acronimoModificacionHelper.sepa1}">
														<pe:keyFilter regEx="/[/\-]/" />
														<p:ajax event="blur" process="edicion-datos,edicion-estructura" update="edicion-datos,edicion-estructura"
															listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
													</p:inputText>
													<p:inputText 
														rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][1] eq 's2'}"
														maxlength="1"
														value="#{mbAcronimos.acronimoModificacionHelper.sepa2}">
														<pe:keyFilter regEx="/[/\-]/" />
														<p:ajax event="blur" process="edicion-datos,edicion-estructura" update="edicion-datos,edicion-estructura"
															listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
													</p:inputText>
													<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][1]}" type="hidden"/>
												</p:outputPanel>
												<p:inputText styleClass="coor" value = "1-1" type="hidden"/>
											</p:outputPanel>
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura != null and mbAcronimos.acronimoModificacionHelper.soloLectura == true}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.sepa1}" />
											</p:outputPanel>
										</p:outputPanel>
									</div>
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2">
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][2] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][2])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][2]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "1-2" type="hidden"/>
										</p:outputPanel>
									</div>
									<div class="col-xs-1">
										<p:outputPanel styleClass="caja-drop-separador caja-drop-separador-2">
											<p:outputPanel rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
												<p:outputPanel styleClass="caja-drag-separador caja-drag-separador-2" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][3] != null}">
													<p:inputText 
														rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][3] eq 's1'}"
														maxlength="1"
														value="#{mbAcronimos.acronimoModificacionHelper.sepa1}">
														<pe:keyFilter regEx="/[/\-]/" />
														<p:ajax event="blur" process="edicion-datos,edicion-estructura" update="edicion-datos,edicion-estructura"
															listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
													</p:inputText>
													<p:inputText 
														rendered = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][3] eq 's2'}"
														maxlength="1"
														value="#{mbAcronimos.acronimoModificacionHelper.sepa2}">
														<pe:keyFilter regEx="/[/\-]/" />
														<p:ajax event="blur" process="edicion-datos,edicion-estructura" update="edicion-datos,edicion-estructura"
															listener="#{mbAcronimos.generarVistaPreviaEdicion}" />
													</p:inputText>
													<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][3]}" type="hidden"/>
												</p:outputPanel>
												<p:inputText styleClass="coor" value = "1-3" type="hidden"/>
											</p:outputPanel>
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura != null and mbAcronimos.acronimoModificacionHelper.soloLectura == true}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.sepa2}" />
											</p:outputPanel>
										</p:outputPanel>
									</div>
									<div class="col-xs-3">
										<p:outputPanel styleClass="caja-drop-texto caja-drop-texto-2">
											<p:outputPanel styleClass="caja-drag-texto caja-drag-texto-2" rendered="#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][4] != null}">
												<h:outputText value="#{mbAcronimos.acronimoModificacionHelper.relacionAcronimos.get(mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][4])}" />
												<p:inputText styleClass="oculto" value = "#{mbAcronimos.acronimoModificacionHelper.estructuraAcronimos[1][4]}" type="hidden"/>
											</p:outputPanel>
											<p:inputText styleClass="coor" value = "1-4" type="hidden"/>
										</p:outputPanel>
									</div>
								</div>
							</p:outputPanel>
							
							<div class="row" style="margin-top: 30px; ">
								<div class="col-md-3" style="font-family: Roboto; width: 209px; ">
									Tu <b>acrónimo</b> quedaría así:
								</div>
								
								<div class="col-md-5 col-xs-7" style="padding-left: 0px; border-bottom:3px solid #d5007f; text-align: center">
									<h:outputText  value="#{mbAcronimos.acronimoModificacionHelper.vistaPreviaAcronimo}" style="font-weight: bold"/>
									
								</div>
							</div>
							
							<p:outputPanel styleClass="row botonesAcomodo" style="padding-top: 55px;"
										   rendered="#{mbAcronimos.acronimoModificacionHelper.soloLectura == null or mbAcronimos.acronimoModificacionHelper.soloLectura == false}">
	
								<p:commandButton value="Cancelar" style="background-color: white !important; color: #d5007f !important; border: 1px solid #d5007f !important;"
												 onclick="PF('edicion-acronimos').hide()"/>
								&nbsp; &nbsp;
								<p:commandButton rendered="#{mbValidacion.comboValidacion ne '0'}" value="#{messageSource['etiqueta_boton_aceptar']}"  
												 title="#{messageSource['etiqueta_boton_aceptar']}"  
									             id="editar_acronimo" process="edicion-acronimos"
											     update="edicion-datos edicion-estructura mensaje_general_info mensaje_general_advertencia mensaje_general_exito idTablaAcronimos" 
											   	 actionListener="#{mbAcronimos.guardarAcronimoEdicion}" style="width: 84px; height: 41px !important;">
								 </p:commandButton>
	
							</p:outputPanel>
						</section>
					</p:outputPanel>
					
				</p:dialog>
				
				<p:dialog id ="visualizar-acronimos"  widgetVar="visualizar-acronimos" modal="true" styleClass="ventanaVisualizarAcr" width="700">
					
					<h4 style="padding-bottom: 20px;">
						<h:outputText value="Acrónimo" />
					</h4>
					<section>
						
						<div class="row" style="margin-top: 30px; ">
							<div class="col-md-2"/>
							<div class="col-md-3" style="font-family: Roboto; width: 209px; ">
								Tu <b>acrónimo</b> quedo así:
							</div>
							
							<div class="col-md-5 col-xs-7" style="padding-left: 0px; border-bottom:3px solid #d5007f; text-align: center">
								<h:outputText  value="#{mbAcronimos.acronimoModificacionHelper.vistaPreviaAcronimo}" style="font-weight: bold"/>
								
							</div>
							<div class="col-md-2"/>
						</div>
						
						<div class="row botonesAcomodo" style="padding-top: 50px;">
							<div class="col-md-12">
								<p:commandButton value="Cerrar" onclick="PF('visualizar-acronimos').hide()"/>
	
							</div>
						</div>
						
					</section>
					
				</p:dialog>
				
				<!-- DIALOG PARA CONFIRMACIÓN GENERAL -->
				<p:confirmDialog global="true" styleClass="ventanaConfirmacion">
					<p:commandButton value="#{messageSource['etiqueta_boton_no']}" styleClass="ui-confirmdialog-no" type="button" />
					<p:commandButton value="#{messageSource['etiqueta_boton_si']}" styleClass="ui-confirmdialog-yes" type="button" style="background-color: white !important; color: #d5007f !important; border: 1px solid #d5007f !important;"/>
				</p:confirmDialog>
			
			</div>
				
		</h:form>
		
	</ui:define>
</ui:composition>